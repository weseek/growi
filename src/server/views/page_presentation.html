<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    {{ customHeader() }}

    <!-- polyfills for IE11 -->
    <script>
      var userAgent = window.navigator.userAgent.toLowerCase();
      if (userAgent.indexOf('msie') != -1 || userAgent.indexOf('trident') != -1) {
        var scriptElement = document.createElement('script');
        scriptElement.src = 'https://cdnjs.cloudflare.com/ajax/libs/babel-polyfill/6.23.0/polyfill.min.js';
        var headElement = document.getElementsByTagName('head')[0];
        headElement.appendChild(scriptElement);
      }
    </script>

    <!-- jQuery, emojione (expect to hit the cache) -->
    <script src="https://cdn.jsdelivr.net/combine/npm/emojione@3.1.2,npm/jquery@3.3.1"></script>
    <!-- highlight.js -->
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.12.0/build/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/combine/
gh/highlightjs/cdn-release@9.12.0/build/languages/dockerfile.min.js,
gh/highlightjs/cdn-release@9.12.0/build/languages/go.min.js,
gh/highlightjs/cdn-release@9.12.0/build/languages/gradle.min.js,
gh/highlightjs/cdn-release@9.12.0/build/languages/json.min.js,
gh/highlightjs/cdn-release@9.12.0/build/languages/less.min.js,
gh/highlightjs/cdn-release@9.12.0/build/languages/scss.min.js,
gh/highlightjs/cdn-release@9.12.0/build/languages/typescript.min.js,
gh/highlightjs/cdn-release@9.12.0/build/languages/yaml.min.js
" defer></script>

    {% if env === 'development' %}
      <script src="/dll/dll.js"></script>
      <script src="{{ webpack_asset('js/dev.js') }}" async></script>
    {% endif %}

    <script src="{{ webpack_asset('js/legacy-presentation.js') }}" defer></script>

    <title>{{ path|path2name }} | {{ path }}</title>

    <!-- styles -->
    <link rel="stylesheet" href="{{ webpack_asset('styles/style.css') }}">
    <link rel="stylesheet" href="{{ webpack_asset('styles/theme-default.css') }}">
    <link rel="stylesheet" href="{{ webpack_asset('styles/style-presentation.css') }}">

    <!-- Google Fonts -->
    <link href='https://fonts.googleapis.com/css?family=Lato:400,700' rel='stylesheet' type='text/css'>

    <style>
      {{ customCss() }}
    </style>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        {% set pageBreakSeparator = pageBreakSeparator()|default(1) %}
        {% set pageBreakCustomSeparator = pageBreakCustomSeparator()|default('') %}

        {% if 1 === pageBreakSeparator %}
          {% set dataSeparator = "^\n\n\n" %}
        {% elseif 2 === pageBreakSeparator %}
          {% set dataSeparator = "^-----" %}
        {% elseif 3 === pageBreakSeparator %}
          {% set dataSeparator = pageBreakCustomSeparator %}
        {% else %}
          {% set dataSeparator = "^\n\n\n" %}
        {% endif %}

        <section data-markdown data-separator={{dataSeparator}}>
          <script type="text/template">
{{ revision.body|presentation|safe }}
          </script>
        </section>
        <section  data-markdown># おしまい</section>
      </div>
    </div>

  </body>
</html>
